[{"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\Routes.js":"1","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\WelcomeCard\\WelcomeCard.js":"2","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\Payment\\ChoosePaymentMethod.js":"3","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\index.js":"4","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\UI\\Navbar\\Navbar.js":"5","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\Login\\Login.js":"6","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\AdminDashboard\\AdminDashboard.js":"7","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\services\\PaymentMethodsService.js":"8","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\PaymentMethodsOverview\\PaymentMethodsOverview.js":"9","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\Transactions\\Transactions.js":"10","C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\PaymentMethodsOverview\\CreatePaymentMethod\\CreatePaymentMethod.js":"11"},{"size":1286,"mtime":1612738465711,"results":"12","hashOfConfig":"13"},{"size":16183,"mtime":1612736051415,"results":"14","hashOfConfig":"13"},{"size":8464,"mtime":1612742921961,"results":"15","hashOfConfig":"13"},{"size":670,"mtime":1607164249770,"results":"16","hashOfConfig":"13"},{"size":1648,"mtime":1612737569717,"results":"17","hashOfConfig":"13"},{"size":2561,"mtime":1612738411296,"results":"18","hashOfConfig":"13"},{"size":4524,"mtime":1612730662861,"results":"19","hashOfConfig":"13"},{"size":1857,"mtime":1612723243340,"results":"20","hashOfConfig":"13"},{"size":1398,"mtime":1612306299441,"results":"21","hashOfConfig":"13"},{"size":2985,"mtime":1612733628091,"results":"22","hashOfConfig":"13"},{"size":899,"mtime":1607890211738,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"13pbv0z",{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\Routes.js",["48"],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\WelcomeCard\\WelcomeCard.js",["49"],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\Payment\\ChoosePaymentMethod.js",["50"],"import BankIcon from \"../../images/bank2.png\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport PayPalIcon from \"../../images/paypal.png\";\r\nimport BitcoinIcon from \"../../images/bitcoin.png\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nexport default function ChoosePaymentMethod(props) {\r\n\r\n    const [buyerRequest, setBuyerRequest] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (props?.match?.params?.token) {\r\n            fetch('https://localhost:8081/buyer-request/' + props?.match?.params?.request_id, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + props.match.params.token\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.username != null) {\r\n                        setBuyerRequest(data);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error:', error);\r\n                });\r\n        }\r\n    }, [])\r\n\r\n    const methodAllowed = (method) => {\r\n        let allowed = false;\r\n        if (buyerRequest) {\r\n            buyerRequest.paymentMethods.forEach((m) => {\r\n                if (m.name === method) {\r\n                    allowed = true;\r\n                    return;\r\n                }\r\n            })\r\n        }\r\n        return allowed;\r\n    }\r\n\r\n    const handlePayWithPayPalClick = () => {\r\n        // alert(props.match.params.request_id)\r\n        fetch('https://localhost:8081/pay-pal/create', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                userId: 2,\r\n                merchantOrderId: buyerRequest.buyerRequestDTO.merchantOrderId,\r\n                merchantTimestamp: buyerRequest.buyerRequestDTO.merchantTimestamp[0] + '-' + buyerRequest.buyerRequestDTO.merchantTimestamp[1]\r\n                    + '-' + buyerRequest.buyerRequestDTO.merchantTimestamp[2] + ' ' + buyerRequest.buyerRequestDTO.merchantTimestamp[3] + ':' + buyerRequest.buyerRequestDTO.merchantTimestamp[4]\r\n                    + ':' + buyerRequest.buyerRequestDTO.merchantTimestamp[5] + 'Z',\r\n                amount: buyerRequest.buyerRequestDTO.amount,\r\n                buyerRequestId: props.match.params.request_id\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                window.location.replace(data.redirectUrl);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    }\r\n\r\n    const handleBitcoinPayment = () => {\r\n        fetch('https://localhost:8081/api/auth/bitcoin/transaction/' + props.match.params.request_id, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.url != null) {\r\n                    console.log(JSON.stringify(data))\r\n                    window.location.replace(data.url);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    }\r\n\r\n    const handleBankPayment = () => {\r\n        fetch('https://localhost:8081/api/auth/bank/transaction/' + props.match.params.request_id, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.url != null) {\r\n                    console.log(JSON.stringify(data))\r\n                    window.location.replace(data.url);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-light w-75 text-center\" style={{marginLeft: \"12%\", opacity: \"0.8\", borderRadius: \"5px\"}}>\r\n            {\r\n                buyerRequest &&\r\n                <>\r\n                    <h2 className=\"pt-5\">Order Details</h2>\r\n                    <div className=\"mt-5\" style={{marginLeft: \"25%\"}}>\r\n                        <h4 className=\"text-left\">Order Id : {buyerRequest.buyerRequestDTO.merchantOrderId}</h4>\r\n                        <h4 className=\"text-left\">Merchant: {buyerRequest.username}</h4>\r\n                        <h4 className=\"text-left\">Total : {buyerRequest.buyerRequestDTO.amount}$</h4>\r\n                    </div>\r\n                    <h2 className=\"pt-5\">Please choose payment method</h2>\r\n                    <div className=\"row list-inline-item mt-5 pb-5\" style={{placeContent: \"center\"}}>\r\n                        {methodAllowed(\"Bank\") &&\r\n                        <div className=\"border border-dark\" style={{height: \"270px\", width: \"300px\"}}>\r\n                            <img\r\n                                src={BankIcon}\r\n                                style={{height: \"200px\"}}\r\n                                alt=\"Bank\"\r\n                            />\r\n                            <div className=\"row\" style={{placeContent: \"center\"}}>\r\n                                <Button variant=\"danger\"\r\n                                        style={{\r\n                                            fontSize: \"22px\",\r\n                                            paddingLeft: \"20px\", paddingRight: \"20px\",\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                        onClick={() => handleBankPayment()}>\r\n                                    Pay\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        {methodAllowed(\"PayPal\") &&\r\n                        <div className=\"ml-5 border border-dark\" style={{height: \"270px\", width: \"300px\"}}>\r\n                            <img\r\n                                src={PayPalIcon}\r\n                                style={{height: \"200px\"}}\r\n                                alt=\"PayPal\"\r\n                            />\r\n                            <div className=\"row\" style={{placeContent: \"center\"}}>\r\n                                <Button variant=\"danger\"\r\n                                        onClick={() => {\r\n                                            handlePayWithPayPalClick()\r\n                                        }}\r\n                                        style={{\r\n                                            fontSize: \"22px\",\r\n                                            paddingLeft: \"20px\",\r\n                                            paddingRight: \"20px\",\r\n                                            width: \"100px\"\r\n                                        }}>\r\n                                    Pay\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        {methodAllowed(\"Bitcoin\") &&\r\n                        <div className=\"ml-5 border border-dark\" style={{height: \"270px\", width: \"300px\"}}>\r\n                            <img\r\n                                src={BitcoinIcon}\r\n                                style={{height: \"160px\"}}\r\n                                alt=\"BitCoin\"\r\n                                className=\"mt-3\"\r\n                            />\r\n                            <div className=\"row mt-4\" style={{placeContent: \"center\"}}>\r\n                                <Button variant=\"danger\"\r\n                                        style={{\r\n                                            fontSize: \"22px\",\r\n                                            paddingLeft: \"20px\",\r\n                                            paddingRight: \"20px\",\r\n                                            width: \"100px\"\r\n                                            }}\r\n                                        onClick = {() => handleBitcoinPayment()}>\r\n                                    Pay\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}",["51","52"],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\index.js",[],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\UI\\Navbar\\Navbar.js",["53"],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\Login\\Login.js",[],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\AdminDashboard\\AdminDashboard.js",["54","55","56","57"],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\services\\PaymentMethodsService.js",[],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\PaymentMethodsOverview\\PaymentMethodsOverview.js",[],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\Transactions\\Transactions.js",["58"],"C:\\Users\\Ika\\Desktop\\literary-association\\payment-concentrator\\payment-concentrator-frontend\\src\\components\\PaymentMethodsOverview\\CreatePaymentMethod\\CreatePaymentMethod.js",[],{"ruleId":"59","severity":1,"message":"60","line":2,"column":9,"nodeType":"61","messageId":"62","endLine":2,"endColumn":17},{"ruleId":"59","severity":1,"message":"63","line":5,"column":21,"nodeType":"61","messageId":"62","endLine":5,"endColumn":27},{"ruleId":"64","severity":1,"message":"65","line":30,"column":8,"nodeType":"66","endLine":30,"endColumn":10,"suggestions":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"59","severity":1,"message":"60","line":5,"column":9,"nodeType":"61","messageId":"62","endLine":5,"endColumn":17},{"ruleId":"72","severity":1,"message":"73","line":87,"column":26,"nodeType":"74","messageId":"75","endLine":87,"endColumn":28},{"ruleId":"72","severity":1,"message":"73","line":91,"column":26,"nodeType":"74","messageId":"75","endLine":91,"endColumn":28},{"ruleId":"72","severity":1,"message":"73","line":95,"column":26,"nodeType":"74","messageId":"75","endLine":95,"endColumn":28},{"ruleId":"72","severity":1,"message":"73","line":98,"column":26,"nodeType":"74","messageId":"75","endLine":98,"endColumn":28},{"ruleId":"59","severity":1,"message":"63","line":2,"column":9,"nodeType":"61","messageId":"62","endLine":2,"endColumn":15},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'props.match.params?.request_id' and 'props.match.params.token'. Either include them or remove the dependency array.","ArrayExpression",["76"],"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",{"desc":"79","fix":"80"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [props.match.params?.request_id, props.match.params.token]",{"range":"81","text":"82"},[1116,1118],"[props.match.params?.request_id, props.match.params.token]"]